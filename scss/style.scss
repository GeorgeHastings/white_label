@import 'reset';
@import 'variables';
@import 'forms';
@import 'typography';

* {box-sizing: border-box;}

._hidden {
	display: none;
}

body,
html {
	margin: 0;
	font-size: 10px;

	@media (max-width: $small) {
		font-size: 8px;
	}
	@media (min-width: $huge) {
		font-size: 12px;
	}
}

body {
	height: 100%;
  font-family: $grotesk;
  -webkit-font-smoothing: antialiased;
  -webkit-text-rendering: optimizeLegibility;
  font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  font-size: 1.8rem;
	line-height: 140%;
  background-color: $background-color;
	color: $text-color;
	overflow-x: hidden;
}

.theme__white-label {
	background-color: $white;

	input {
		box-shadow: 0 0 0 0.2rem $gray10;

		&:focus {
			// box-shadow: 0 0 0 0.2rem $blue;
		}
	}

	.radio-button label {
		box-shadow: 0 0 0 0.2rem $gray10;
	}

	.radio-button input:checked + label{
		box-shadow: 0 0 0 0.2rem $blue;
	}

	.sidebar {
		background-color: lighten($gray10, 7%);
	}
}

.wrapper.wrapper__price-options {
	height: 100%;
	padding: 0 3rem;

	.sidebar,
	.right-rail {
		display: none;
	}

	.main-container {
		flex-direction: column;
		max-width: 128rem;
		padding: 5rem 0;
		margin: 0 auto;
	}

	.step-container {
		width: 100%;
	}

	.breadcrumb-container {
		display: none;
	}
}

.wrapper.wrapper__last-step {
	height: 100%;

	.sidebar {
		display: none;
	}

	.main-container {
		max-width: 117rem;
		padding: 5rem 0;
		margin: 0 auto;
	}

	.step-container {
		width: 100%;
	}

	.breadcrumb-container {
		display: none;
	}
}

.sidebar {
	position: fixed;
	top: 0;
	left: 0;
	width: 27rem;
	padding: 3rem;
	height: 100%;
	background-color: $white;

	@media (max-width: $small) {
		display: none;
	}
}

.logo {
	width: 12rem;
	height: 2rem;
	background-color: $teal10;

	&:after {
		position: absolute;
		background-color: $blue;
		content: "";
		height: 2rem;
		width: 2rem;
		box-shadow: 2rem 0 0 $white;
	}
}

.unlink {
	position: absolute;
	bottom: 0rem;
	left: 0rem;
	padding: 3rem;
	font-size: 1.6rem;
	color: $gray50;
}

.breadcrumb,
.back-button {
	display: inline-block;
	padding: 1rem 2rem;
	background-color: $white;
	color: $blue;
	font-weight: 600;
}

.navigation {
	margin-top: 5rem;
}

.nav-item {
	display: flex;
	line-height: 4rem;
	color: $gray50;
	align-items: center;
	font-size: 1.8rem;

	& + & {
		margin-top: 2rem;
	}

	&__active {
		color: $blue;

		.nav-circle {
			border: 0.3rem solid $blue;
			background-color: inherit;
		}

		svg {
			top: -0.3rem;
			left: -0.3rem;
		}
	}

	&__complete {
		.nav-circle {
			position: relative;
			background-color: $blue;
			transition: background-color 0.3s ease, box-shadow 0.5s ease;
			box-shadow: 0 0 0 1.2rem inherit, 0 0 0 1.5rem transparent;

			&:before {
				content: url('../assets/images/check.svg');
				width: 2rem;
				text-align: center;
				width: 100%;
				display: inline-block;
			}

			svg {
				display: none;
			}
		}
	}
}

.nav-circle {
	position: relative;
	display: inline-block;
	width: 4rem;
	height: 4rem;
	border-radius: 50%;
	background-color: $teal10;
	margin-right: 1.5rem;
	transition: background-color 0.3s ease;
	box-shadow: inset 0 0 0 2rem $white, 0 0 0 0 $blue;

	svg {
		position: absolute;
		transform: rotateZ(-85deg);
	}

	circle {
		transition: all 0.15s ease;
		outline-offset: -0.3rem;
	}

	&:after {
		transition: all 0.3s ease;
	}
}

.main-container {
	display: flex;
	// display: none;
	margin-left: 27rem;
	padding: 5rem 7rem;

	@media (max-width: $small) {
		margin-left: 0;
		width: 100%;
		flex-direction: column;
		padding: 3rem;
	}

	&.main-container__full-width {
		flex-direction: column;

		.step-container {
			width: 100%;
		}

		.right-rail {
			max-width: none;
			padding-left: 0;
			margin-top: 5rem;
		}

		.help-card {
			display: flex;
			padding: 0;
			align-items: flex-start;
			justify-content: center;
		}

		.help-card img {
			margin-right: 3rem;
		}

		.help-card .button {
			margin-left: 5rem;
			margin-right: 0;
			margin-top: 0;
		}
	}

	&.main-container__complete {
		margin: 0 auto;
		max-width: 128rem;

		& ~ .sidebar {
			opacity: 0;
		}

		.breadcrumb-container  {
			display: none;
		}
	}
}

.step-container {
	width: 66rem;

	@media (max-width: $small) {
		width: auto;
	}
}

.question-heading {
	margin-top: 2rem;
}

.explainer {
	position: relative;
	color: $gray50;
	padding-left: 2.5rem;

	&:before {
		position: absolute;
		left: 0;
		top: 0.7rem;
		display: inline-block;
		content: "";
		width: 0;
		height: 0;
		border-top: 0.75rem solid transparent;
		border-left: 1rem solid $blue;
		border-bottom: 0.75rem solid transparent;
	}
}

.form-container {
	margin-top: 5rem;
}

.right-rail {
	position: relative;
	width: 100%;
	max-width: 40rem;
	padding-left: 5rem;

	@media (max-width: $small) {
		max-width: none;
		padding: 0;
		margin-top: 5rem;

		.help-card {
			padding: 0;
		}
	}

	code {
		display: block;
		// display: none;
		font-family: 'Menlo';
		white-space: pre;
		font-size: 1.2rem;
		margin-left: 3rem;
		color: $gray50;
	}
}

.load-in {
	@include load-in;
}

.load-up {
	@include load-up;
}

.help-card {
	padding: 0 0 3rem 3rem;
	width: 100%;
	border-radius: 0.3rem;

	img {
		display: block;
		margin-bottom: 3rem;
	}

	&__fixed {
		position: fixed;
		max-width: 40rem;
	}
}

.agent-photo {
	border-radius: 50%;
	width: 8rem;
	height: 8rem;
}

.agent-location {
	margin-bottom: 2rem;
}

.rating {
	display: flex;
	margin-top: 1.5rem;
	margin-bottom: 1.5rem;

	p {
		line-height: 1;
	}

	.stars {
		display: inherit;
		margin-right: 1rem;
	}

	.stars img {
		margin-bottom: 0;
	}
}

.guidelines-container {
	// list-style: unset;
	// margin-left: 3rem;
	margin-bottom: 5rem;

	li {
		font-size: 1.8rem;
		background-color: $white;
		padding: 3rem;
		border-radius: 0.3rem;
	}

	li + li {
		margin-top: 1.5rem;
	}
}

//coverage

.pricing-page-top {
	display: flex;
}

.pricing-page-details {
	width: 30%;
	padding-right: 5rem;
}

.pricing-page-options {
	width: 70%;
	margin-top: 0rem;
}

.coverage-container {
	display: flex;
	justify-content: space-between;
	background-color: $white;
	border-top-right-radius: 0.4rem;
	border-top-left-radius: 0.4rem;

	@media (max-width: $small) {
		flex-direction: column;
	}
}

.coverage-types {
	background-color: $white;
	margin-top: 20rem;
}

.coverage-table {
	position: relative;
	background-color: $white;
	box-shadow: 0rem 50rem 0 50rem $white;

	table {
		width: 100%;
	}

	tr {
		border-bottom: 1px solid $gray10;
	}

	tr:first-child td {
		border-top: 0;
	}

	td {
		height: 6rem;
		border-top: 1px solid $gray10;
	}

	td span img {
		vertical-align: middle;
		margin-top: -4px;
		margin-left: 5px;
	}

	td:first-child {
		width: 30%;
	}
	td:not(:first-child) {
		width: calc(70%/3);
		padding: 0 3rem;
		text-align: center;
		border-left: 1px solid $gray10;
	}

	&:before {
		content: "";
		position: absolute;
		width: 100%;
		left: -100%;
		background-color: $white;
		z-index: -1;
	}
}

.coverage-label {
	font-size: 1.2rem;
	letter-spacing: 0.17rem;
	color: $gray50;
	text-transform: uppercase;
	font-weight: 600;
}

.coverage-cell {
	height: 6rem;
	line-height: 6rem;
}

.coverage-group {
	padding: 5rem;
	background-color: $white;
	margin-bottom: 3rem;
}

.coverage {
	display: flex;
	justify-content: space-between;

	&:not(:last-child) {
		padding-bottom: 3rem;
	}

	& + .coverage {
		padding-top: 5rem;
		border-top: 1px solid $teal10;
	}
}

.coverage-info p {
	color: $gray50;
	max-width: 60rem;
	// font-size: 1.7rem;
}

.coverage-title {
	display: flex;
	align-items: center;
	margin-bottom: 2rem;

	h3 {
		margin-left: 2rem;
		margin-bottom: 0;
	}
}

.coverage-limit {
	font-size: 2.4rem;
	font-weight: 600;
	margin-top: 0.6rem;
}

.coverage-option {
	position: relative;
	width: calc(33.3%);
	padding: 5rem 3rem;
	// border-radius: 0.5rem;
	text-align: center;

	.button__tertiary {
		text-align: center;
	}

	@media (max-width: $small) {
		width: 100%;
	}
}

.coverage-option-flag {
	position: absolute;
	top: -1.6rem;
	left: 50%;
	display: inline-table;
	color: $white;
	background-color: $teal;
	padding: 0.2rem 1.2rem;
	font-size: 0.9rem;
	font-weight: 700;
	border-radius: 3px;
	text-transform: uppercase;
	letter-spacing: 0.15em;
	transform: translateX(-50%);
}

.coverage-option-description {
	font-size: 1.6rem;
	margin-top: 3rem;
}

.coverage-option-name {
	font-size: 1.4rem;
	letter-spacing: 0.2rem;
	text-transform: uppercase;
	font-weight: 700;
	color: $blue;
}

.coverage-option-price {
	position: relative;
	display: flex;
	margin-top: 3rem;
	margin-bottom: 1rem;
	font-size: 1.8rem;
	justify-content: center;
	align-items: flex-end;
}

.price-loading {
	// position: absolute;
	// background-color: $gray;
	// top: 0;
	// left: 8rem;
	// width: 50%;
	// height: 100%;
}

.price-annual {
	font-size: 1.6rem;
	color: $gray50;
}

.coverage-option-dollars {
	font-size: 5rem;
	font-weight: bold;

	&:before {
		content: "$";
		font-size: 2.6rem;
		font-weight: 500;
	}
}

.coverage-option-limits {
	margin-top: 5rem;
}

.coverage-option-specific + .coverage-option-specific {
	margin-top: 3rem;
}

.coverage-option-label {
	font-size: 1.6rem;
	color: $gray50;
	margin-bottom: 1rem;
}

.next-step {
	display: flex;
	padding: 3rem 0;
	font-size: 2rem;
	line-height: 1.5;
	// background-color: $white;
	border-radius: 0.3rem;

	& + & {
		margin-top: 1.5rem;
	}

	.next-step-icon {
		margin-right: 3rem;
	}
}

.policy-pdf {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 2rem;
	margin-top: 3rem;
	border: 0.3rem solid $teal10;
	background-color: $white;
	border-radius: 0.5rem;
	transition: border 0.15s ease;
	cursor: pointer;

	&:hover {
		border: 0.3rem solid $teal;
	}

	img {
		width: 2.2rem;
	}
}

.tag {
	color: $white;
	background-color: $blue;
	margin-left: 1rem;
	padding: 0.4rem 0.8rem;
	font-size: 0.9rem;
	font-weight: 800;
	border-radius: 3px;
	text-transform: uppercase;
	letter-spacing: 0.15em;
	vertical-align: text-bottom;
}

.sticky-help-button {
	position: fixed;
	bottom: 3rem;
	right: 3rem;

	.button {
		background-color: $white;
	}
}

canvas {
	@include load-in;
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	margin: 0 auto;
	z-index: -2;
	animation-delay: 1s;
	overflow: hidden;
}

.canvas__game {
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	margin: 0 auto 0;
	width: 75%;
	height: 75%;
	background-color: $white;
}

.tool-tip {
  position: relative;
  padding: 0;
  white-space: normal;
  cursor: help;

	&::before {
		content: attr(data-tooltip);
		top: -2rem;
		margin-left: 1.5rem;
		max-width: 33rem;
		width: 33rem;
		width: max-content; // sass-lint:disable-line no-duplicate-properties
		padding: 2rem;
		font-size: 1.6rem;
		font-weight: 400;
		line-height: 1.5em;
		border-radius: 0.4rem;
		color: $gray10;
		background-color: $black;
		transform: translate3d(1.5rem, calc(-50% + 0.5px), 0);
	}

	&::after {
		content: '';
    width: 0;
    height: 0;
    transform: translate3d(1.5rem, calc(-50% + 0.5px), 0);
		top: 0rem;
		margin-left: 0.7rem;
		border-bottom: 1rem solid transparent;
		border-top: 1rem solid transparent;
		border-right: 0.8rem solid $black;
	}

  &:hover {
    &::before,
    &::after {
      opacity: 1;
      pointer-events: none;
      transition: opacity 0.25s ease 0.25s, transform 0.25s ease 0.25s;
      transform: translate3d(0, 0, 0);
    }
  }

  &::before,
  &::after {
    position: absolute;
    left: 100%;
    z-index: 999;
		transform: translate3d(0.5rem, 0, 0);
    transition: opacity 0.25s ease, transform 0.25s ease;
    opacity: 0;
    pointer-events: none;
    -webkit-font-smoothing: subpixel-antialiased;
  }
}

.full-screen-loader {
	@include load-in;
	display: flex;
	align-items: center;
	justify-content: center;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: $teal10;
	text-align: center;
	font-size: 2.6rem;

	&:not(._hidden) + canvas {
		z-index: 2;
		// border: 2px solid $white;
	}

	&._hidden {
		display: none;
	}
}

// .loading-message {
// 	background-color: $white;
// 	padding: 5rem;
// }

.progress-bar {
  position: relative;
  width: 100%;
  height: 1rem;
  background-color: white;
  margin-top: 30px;
  border-radius: 5px;
  overflow: hidden;

  &:after {
    position: absolute;
    content: "";
    width: 100%;
    left: 0;
    height: inherit;
    border-radius: 5px;
		background: linear-gradient(
          -45deg,
          $white50a 25%,
          $transparent 25%,
          $transparent 50%,
          $white50a 50%,
          $white50a 75%,
          $transparent 75%,
          $transparent 0), $blue;
		background-size: 5rem 5rem;
    animation: bgcycle 1s linear infinite, progressBar 10s ease;
  }

  @keyframes bgcycle {
    0% {
      background-position: 0rem 0;
    }
    100% {
      background-position: -5rem 0;
    }
  }

  @keyframes progressBar {
    0% {
      transform: translateX(-100%);
    }
    10% {
      transform: translateX(-95%);
    }
    20% {
      transform: translateX(-91%);
    }
    30% {
      transform: translateX(-76%);
    }
    50% {
      transform: translateX(-71%);
    }
    70%{
      transform: translateX(-48%);
    }
    90% {
      transform: translateX(-32%);
    }
    100% {
      transform: translateX(-10%);
    }
  }
}

.square-wrapper {
	font-size: 5px;
  position: relative;
	height: 13rem;
	width: 7rem;
	margin: 0 auto;
  margin-top: -3rem;
  // margin-left: 20px;

  &:before {
    position: absolute;
    content: "";
    top: 4.2rem;
    left: 0;
    width: 5rem;
    height: 5rem;
    background-color: $white;
    transform: rotateX(60deg) rotateY(0deg) rotateZ(-45deg);
    box-shadow: 0 5rem 0 0 $white;
    animation: scroll 1.5s cubic-bezier(.9,.1,.1,.9) infinite;
  }
}

@keyframes scroll {
  0% {
    box-shadow: 0 5rem 0 0 $teal, 0 0 0 0 $white, 0 -5rem 0 0 $white, 0 -10rem 0 0 transparent;
  }
  50% {
    box-shadow: 0 10rem 0 0 transparent, 0 5rem 0 0 $teal, 0 0 0 0 $white, 0 -5rem 0 0 $white;
  }
  100% {
    box-shadow: 0 10rem 0 0 transparent, 0 5rem 0 0 $teal, 0 0 0 0 $white, 0 -5rem 0 0 $white;
  }
}

.square {
  position: relative;
  z-index: 0;

  div {
    position: absolute;
    height: 5rem;
    width: 5rem;
  }

  svg {
    transform: rotateX(180deg) scale(0.7) translateX(-7px) translateY(-12px);
  }
}

.square-top {
  top: 0;
  transform: rotateX(60deg) rotateY(0deg) rotateZ(-45deg);
  background-color: $teal;
}

.square-left {
  left: -1.75rem;
  top: 3.05rem;
  background-color: lighten($teal, 10%);
  transform: rotateX(150deg) rotateY(45deg) rotateZ(0deg);
}

.square-right {
  left: 1.75rem;
  top: 3.05rem;
  background-color: darken($teal, 10%);
  transform: rotateX(210deg) rotateY(45deg) rotateZ(0deg);
}

.square-wrapper {
  .square:first-child {
    animation: animateA 3s cubic-bezier(.9,.1,.1,.9) infinite;
  }
  .square:last-child {
    animation: animateB 3s cubic-bezier(.9,.1,.1,.9) infinite -1.5s;
  }
}

@keyframes animateA {
  0% {
    transform: translate3d(0, 0, 0);
    z-index: 0;
  }
  12.499%{
    z-index: 0;
  }
  12.5% {
    z-index: 2;
  }
  25%{
    transform: translate3d(3.6rem, 1.7rem, 0);
    z-index: 2;
  }
  50% {
    transform: translate3d(3.6rem, -2.7rem, 0);
    z-index: 2;
  }
  75% {
    transform: translate3d(0px, -4.4rem, 0);
    z-index: 2;
  }
  75.1% {
    z-index: 0;
  }
  100% {
    transform: translate3d(0, 0, 0);
    z-index: 0;
  }
}

@keyframes animateB {
  0% {
    transform: translate3d(0, 0, 0);
    z-index: 0;
  }
  24.99% {
    z-index: 0;
  }
  25%{
    transform: translate3d(3.6rem, 1.7rem, 0);
    z-index: 2;
  }
  37.5% {
    z-index: 2;
  }
  50% {
    transform: translate3d(3.6rem, -2.7rem, 0);
    z-index: 2;
  }
  75% {
    transform: translate3d(0px, -4.4rem, 0);
    z-index: 2;
  }
  75.1% {
    z-index: 0;
  }
  100% {
    transform: translate3d(0, 0, 0);
    z-index: 0;
  }
}

#adminz-only {
	display: none;
}

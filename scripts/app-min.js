"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stepBackwards=exports.stepForwards=exports.updateState=exports.STATE=void 0;var _helpers=require("./helpers.js"),_wingdings=require("./wingdings.js"),_uiComponents=require("./ui-components.js"),_steps=require("./steps.js"),_constants=require("./constants.js"),STATE={currentStep:0,currentSubstep:0,data:{}};exports.STATE=STATE;var STEPS=[[_steps.welcome,_steps.currentSituation,_steps.reasonForShopping,_steps.insuranceLiteracy],[_steps.contactInfo,_steps.ownOrRent,_steps.basicBizInfo],[_steps.buildingInfo,_steps.propertyInfo],[_steps.chooseCoverage,_steps.reviewCoverage,_steps.effectiveDate]],navigation=new _uiComponents.Navigation(STATE.currentStep,STATE.currentSubstep),breadcrumb=new _uiComponents.BreadCrumb(!1,STATE.currentSubstep+1,STEPS[STATE.currentStep].length),updateState=function e(t){t.form?(STATE.data[t.form]||(STATE.data[t.form]={}),STATE.data[t.form][t.id]=t.value):STATE.data[t.id]=t.value,(0,_helpers.$)("adminz-only").innerHTML="<code>".concat(JSON.stringify(STATE.data,void 0,2),"</code>")};exports.updateState=updateState;var render=function e(t,r){(0,_helpers.$)(t).innerHTML=null,(0,_helpers.$)(t).appendChild(r.render())},navigateStep=function e(t){var r=0<STATE.currentSubstep||0<STATE.currentStep;breadcrumb.showBackButton=r,breadcrumb.currentStep=STATE.currentSubstep+1,breadcrumb.totalSteps=STEPS[STATE.currentStep].length,navigation.index=STATE.currentStep,t.fullWidth?(0,_helpers.$)("mainContainer").classList.add("main-container__full-width"):(0,_helpers.$)("mainContainer").classList="main-container","reasonForShopping"===t.id&&(STATE.data.introQuestions&&"I don't have any"===STATE.data.introQuestions.currentSituation?t.fields[0].options=_constants.NO_INSURANCE:t.fields[0].options=_constants.HAS_INSURANCE),window.scrollTo(0,0),render("breadCrumb",breadcrumb),render("questionContainer",t),(0,_helpers.$)("navigation")||render("navigationContainer",navigation),navigation.update(breadcrumb.currentStep/breadcrumb.totalSteps)},stepForwards=function e(){STATE.currentSubstep++,navigation.subIndex++;var t=STEPS[STATE.currentStep][STATE.currentSubstep];if(!t){if(STATE.currentStep++,navigation.index++,STATE.currentSubstep=0,navigation.subIndex=0,!STEPS[STATE.currentStep])return;t=STEPS[STATE.currentStep][STATE.currentSubstep]}navigateStep(t)};exports.stepForwards=stepForwards;var stepBackwards=function e(){STATE.currentSubstep--,navigation.subIndex--;var t=STEPS[STATE.currentStep][STATE.currentSubstep];if(!t){if(STATE.currentStep--,navigation.index--,STATE.currentSubstep=STEPS[STATE.currentStep].length-1,navigation.subIndex=STEPS[STATE.currentStep].length-1,!STEPS[STATE.currentStep])return;t=STEPS[STATE.currentStep][STATE.currentSubstep]}navigateStep(t)};exports.stepBackwards=stepBackwards;var onInit=function e(){navigateStep(STEPS[STATE.currentStep][STATE.currentSubstep])};onInit();